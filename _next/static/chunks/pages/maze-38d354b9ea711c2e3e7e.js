_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{Qetd:function(e,t,l){"use strict";var n=Object.assign.bind(Object);e.exports=n,e.exports.default=e.exports},agsj:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/maze",function(){return l("gHMz")}])},gHMz:function(e,t,l){"use strict";l.r(t);var n=l("nKUr"),s=l("q1tI");l("sLDq");const c=[[0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,1,1,1,1,0,0],[0,1,0,1,1,1,0,0,1,1,0],[0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,0,0,0]];let a={x:0,y:0};a.x=10,a.y=20;let o={x:0,y:0};o.x=90,o.y=100;const r=10;t.default=()=>{const e=Object(s.useRef)(null),{0:t,1:l}=Object(s.useState)(null);let i=null,h=null;const{0:u,1:f}=Object(s.useState)(null),{0:b,1:x}=Object(s.useState)(null),{0:g,1:d}=Object(s.useState)(c),m=e=>{for(var t,l,n=e.length;n;t=Math.floor(Math.random()*n),l=e[--n],e[n]=e[t],e[t]=l);return e},j=e=>{y(e)},y=e=>{const t=e%2===0?e+1:e,l=[];for(let n=0;n<t;n++){let e=[];l.push(e);for(let l=0;l<t;l++)0===n||n+1===t||0===l||l+1===t?e.push(0):n%2===1?e.push(1):e.push(l%2)}for(let n=0;n<l.length;n++){if(0===n||n+1===l.length)continue;if(n%2===1)continue;let e=l[n],t=["top","bottom","left","right"];n>=4&&(t=t.slice(1));for(let s=0;s<e.length;s++)if(0!==s&&s+1!==e.length&&s%2===0){t=m(t);for(let e=0;e<t.length;e++){if("top"===t[e]&&1===l[n-1][s]){l[n-1][s]=0;break}if("left"===t[e]&&1===l[n][s-1]){l[n][s-1]=0;break}if("right"===t[e]&&1===l[n][s+1]){l[n][s+1]=0;break}if("bottom"===t[e]&&1===l[n+1][s]){l[n+1][s]=0;break}}}}l[l.length-2][l.length-2]=2,d(l)},k=Object(s.useCallback)((e=>{const l=Object.assign({},u);if(0===l.move){let t=l.x/r,n=l.y/r;switch(e){case"left":t--,1===g[n][t]&&(l.move=r);break;case"up":n>0&&(n--,1===c[n][t]&&(l.move=r));break;case"down":n<9&&(n++,1===g[n][t]&&(l.move=r));break;case"right":t++,1===g[n][t]&&(l.move=r)}}if(l.move>0){switch(l.move-=r,e){case"left":l.x-=r;break;case"up":l.y-=r;break;case"down":l.y+=r;break;case"right":l.x+=r}console.log(l),f(l),t.clearRect(0,0,100,100),x(null),v()}}),[u,b]),p=()=>{e.current.width=110,e.current.height=110;const t=e.current.getContext("2d");l(t)},v=()=>{i=new Image,i.src="/exNext/map.png",t.fillStyle="rgb( 0, 0, 0 )",t.fillRect(0,0,300,300),i.onload=()=>{for(let e=0;e<g.length;e++)for(let l=0;l<g[e].length;l++)1===g[e][l]&&t.drawImage(i,0,0,r,r,r*l,r*e,r,r),0===g[e][l]&&t.drawImage(i,r,0,r,r,r*l,r*e,r,r),l==g[e].length-1&&e==g.length-1&&(t.fillStyle="blue",t.fillText("S",a.x,a.y),t.fillText("G",o.x,o.y),x(i))}};return Object(s.useEffect)((()=>{p()}),[]),Object(s.useEffect)((()=>{null!=t&&null==u&&v()}),[t]),Object(s.useEffect)((()=>{b&&null==u&&(h=new Object,h.img=new Image,h.img.src="/exNext/niko.png",h.x=a.x,h.y=a.x,h.move=0,h.img.onload=()=>{f(h),t.drawImage(h.img,h.x,h.y)}),b&&null!=u&&t.drawImage(u.img,u.x,u.y)}),[b,u]),Object(s.useEffect)((()=>{null!=t&&g&&(v(),f(null))}),[g]),Object(n.jsxs)("div",{className:"maze",children:[Object(n.jsx)("canvas",{className:"maze__canvas",ref:e}),Object(n.jsxs)("div",{className:"maze__btns",children:[Object(n.jsx)("div",{onClick:()=>k("right"),children:"\u2192"}),Object(n.jsx)("div",{onClick:()=>k("up"),children:"\u2191"}),Object(n.jsx)("div",{onClick:()=>k("left"),children:"\u2190"}),Object(n.jsx)("div",{onClick:()=>k("down"),children:"\u2193"})]}),Object(n.jsx)("div",{className:"maze__random",onClick:()=>{j(10)},children:"\u30e9\u30f3\u30c0\u30e0\u3067\u8ff7\u8def\u3092\u4f5c\u308b"}),Object(n.jsx)("div",{className:"maze__answer",onClick:()=>(()=>{let e=[];for(let t=0;t<r;t++){e[t]=[];for(let l=0;l<r;l++)e[t][l]=!1}let l=1,n=1;const s=[];for(s.push({x:l,y:n,rt:[]}),t.strokeStyle="gray",t.lineWidth=1,t.beginPath();s.length>0;){let u=s.shift();l=u.x,n=u.y;let f=u.rt;if(2==g[n][l]){console.log("\u3054\u30fc\u308b"),f.push({x:l,y:n}),t.closePath(),t.beginPath(),t.strokeStyle="red",t.lineWidth=4,t.moveTo(f[0].x*r+5,f[0].y*r+5);for(let e=0;e<f.length;e++)t.lineTo(f[e].x*r+5,f[e].y*r+5),t.stroke();t.closePath();break}for(var c,a,o=0;o<4;o++){switch(o){case 0:c=u.x-1,a=u.y;break;case 1:c=u.x+1,a=u.y;break;case 2:c=u.x,a=u.y-1;break;case 3:c=u.x,a=u.y+1}if(0!=g[a][c]&&!e[a][c]){e[a][c]=!0;for(var i=[],h=0;h<f.length;h++)i.push({x:f[h].x,y:f[h].y});i.push({x:u.x,y:u.y}),s.push({x:c,y:a,rt:i}),t.moveTo(u.x*r+5,u.y*r+5),t.lineTo(c*r+5,a*r+5),t.stroke()}}}})(),children:"\u7b54\u3048\u3092\u898b\u308b"})]})}}},[["agsj",0,1,2]]]);