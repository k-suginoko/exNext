_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{Qetd:function(e,n,t){"use strict";var c=Object.assign.bind(Object);e.exports=c,e.exports.default=e.exports},agsj:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/maze",function(){return t("gHMz")}])},gHMz:function(e,n,t){"use strict";t.r(n);var c=t("nKUr"),a=t("q1tI"),s=(t("sLDq"),[[1,0,0,0,0,0,0,0,0,0],[1,1,0,1,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0],[0,1,0,1,0,1,1,1,1,0],[0,1,0,1,1,1,0,0,1,1],[0,0,0,0,0,0,0,0,0,0]]);n.default=function(){var e=Object(a.useRef)(null),n=Object(a.useState)(null),t=n[0],i=n[1],r=null,l=null,o=Object(a.useState)(null),u=o[0],f=o[1],d=Object(a.useState)(null),b=d[0],g=d[1],j=Object(a.useCallback)((function(e){var n=Object.assign({},u);if(0===n.move){var c=n.x/10,a=n.y/10;switch(e){case"left":c--,1===s[a][c]&&(n.move=10);break;case"up":a>0&&(a--,1===s[a][c]&&(n.move=10));break;case"down":a<9&&(a++,1===s[a][c]&&(n.move=10));break;case"right":c++,1===s[a][c]&&(n.move=10)}}if(n.move>0){switch(n.move-=10,e){case"left":n.x-=10;break;case"up":n.y-=10;break;case"down":n.y+=10;break;case"right":n.x+=10}console.log(n),f(n),t.clearRect(0,0,100,100),g(null),v()}}),[u,b]),m=function(){e.current.width=100,e.current.height=100;var n=e.current.getContext("2d");i(n)},v=function(){(r=new Image).src="/exNext/map.png",t.fillStyle="rgb( 0, 0, 0 )",t.fillRect(0,0,300,300),r.onload=function(){for(var e=0;e<s.length;e++)for(var n=0;n<s[e].length;n++)1===s[e][n]&&t.drawImage(r,0,0,10,10,10*n,10*e,10,10),0===s[e][n]&&t.drawImage(r,10,0,10,10,10*n,10*e,10,10),n==s[e].length-1&&e==s.length-1&&g(r)}};return Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){null!=t&&null==u&&v()}),[t]),Object(a.useEffect)((function(){b&&null==u&&((l=new Object).img=new Image,l.img.src="/exNext/niko.png",l.x=0,l.y=0,l.move=0,l.img.onload=function(){f(l),t.drawImage(l.img,l.x,l.y)}),b&&null!=u&&(console.log("update",b,u),t.drawImage(u.img,u.x,u.y))}),[b,u]),Object(c.jsxs)("div",{className:"maze",children:[Object(c.jsx)("canvas",{className:"maze__canvas",ref:e}),Object(c.jsxs)("div",{className:"maze__btns",children:[Object(c.jsx)("div",{onClick:function(){return j("right")},children:"\u2192"}),Object(c.jsx)("div",{onClick:function(){return j("up")},children:"\u2191"}),Object(c.jsx)("div",{onClick:function(){return j("left")},children:"\u2190"}),Object(c.jsx)("div",{onClick:function(){return j("down")},children:"\u2193"})]}),Object(c.jsx)("div",{className:"maze__answer",children:"\u7b54\u3048\u3092\u898b\u308b"})]})}}},[["agsj",0,1,2]]]);