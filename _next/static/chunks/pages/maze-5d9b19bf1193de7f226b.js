_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{Qetd:function(e,t,n){"use strict";var r=Object.assign.bind(Object);e.exports=r,e.exports.default=e.exports},agsj:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/maze",function(){return n("gHMz")}])},gHMz:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),a=n("q1tI"),c=(n("sLDq"),[[0,0,0,0,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,0,0,0,0,0,0],[0,1,0,1,0,1,1,1,1,0,0],[0,1,0,1,1,1,0,0,1,1,0],[0,0,0,0,0,0,0,0,0,2,0],[0,0,0,0,0,0,0,0,0,0,0]]),l={x:0,y:0};l.x=10,l.y=20;var o={x:0,y:0};o.x=90,o.y=100;var i=10;t.default=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(null),n=t[0],s=t[1],u=null,f=null,h=Object(a.useState)(null),b=h[0],x=h[1],g=Object(a.useState)(null),v=g[0],d=g[1],m=Object(a.useState)(c),j=m[0],y=m[1],k=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},p=function(e){w(e)},w=function(e){for(var t=e%2===0?e+1:e,n=[],r=0;r<t;r++){var a=[];n.push(a);for(var c=0;c<t;c++)0===r||r+1===t||0===c||c+1===t?a.push(0):r%2===1?a.push(1):a.push(c%2)}for(var l=0;l<n.length;l++)if(0!==l&&l+1!==n.length&&l%2!==1){var o=n[l],i=["top","bottom","left","right"];l>=4&&(i=i.slice(1));for(var s=0;s<o.length;s++)if(0!==s&&s+1!==o.length&&s%2===0){i=k(i);for(var u=0;u<i.length;u++){if("top"===i[u]&&1===n[l-1][s]){n[l-1][s]=0;break}if("left"===i[u]&&1===n[l][s-1]){n[l][s-1]=0;break}if("right"===i[u]&&1===n[l][s+1]){n[l][s+1]=0;break}if("bottom"===i[u]&&1===n[l+1][s]){n[l+1][s]=0;break}}}}n[n.length-2][n.length-2]=2,y(n)},O=Object(a.useCallback)((function(e){var t=Object.assign({},b);if(0===t.move){var r=t.x/i,a=t.y/i;switch(e){case"left":r--,1===j[a][r]&&(t.move=i);break;case"up":a>0&&(a--,1===c[a][r]&&(t.move=i));break;case"down":a<9&&(a++,1===j[a][r]&&(t.move=i));break;case"right":r++,1===j[a][r]&&(t.move=i)}}if(t.move>0){switch(t.move-=i,e){case"left":t.x-=i;break;case"up":t.y-=i;break;case"down":t.y+=i;break;case"right":t.x+=i}console.log(t),x(t),n.clearRect(0,0,100,100),d(null),N()}}),[b,v]),_=function(){e.current.width=110,e.current.height=110;var t=e.current.getContext("2d");s(t)},N=function(){(u=new Image).src="/exNext/map.png",n.fillStyle="rgb( 0, 0, 0 )",n.fillRect(0,0,300,300),u.onload=function(){for(var e=0;e<j.length;e++)for(var t=0;t<j[e].length;t++)1===j[e][t]&&n.drawImage(u,0,0,i,i,i*t,i*e,i,i),0===j[e][t]&&n.drawImage(u,i,0,i,i,i*t,i*e,i,i),t==j[e].length-1&&e==j.length-1&&(n.fillStyle="blue",n.fillText("S",l.x,l.y),n.fillText("G",o.x,o.y),d(u))}};return Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){null!=n&&null==b&&N()}),[n]),Object(a.useEffect)((function(){v&&null==b&&((f=new Object).img=new Image,f.img.src="/exNext/niko.png",f.x=l.x,f.y=l.x,f.move=0,f.img.onload=function(){x(f),n.drawImage(f.img,f.x,f.y)}),v&&null!=b&&n.drawImage(b.img,b.x,b.y)}),[v,b]),Object(a.useEffect)((function(){null!=n&&j&&(N(),x(null))}),[j]),Object(r.jsxs)("div",{className:"maze",children:[Object(r.jsx)("canvas",{className:"maze__canvas",ref:e}),Object(r.jsxs)("div",{className:"maze__btns",children:[Object(r.jsx)("div",{onClick:function(){return O("right")},children:"\u2192"}),Object(r.jsx)("div",{onClick:function(){return O("up")},children:"\u2191"}),Object(r.jsx)("div",{onClick:function(){return O("left")},children:"\u2190"}),Object(r.jsx)("div",{onClick:function(){return O("down")},children:"\u2193"})]}),Object(r.jsx)("div",{className:"maze__random",onClick:function(){p(10)},children:"\u30e9\u30f3\u30c0\u30e0\u3067\u8ff7\u8def\u3092\u4f5c\u308b"}),Object(r.jsx)("div",{className:"maze__answer",onClick:function(){return function(){for(var e=[],t=0;t<i;t++){e[t]=[];for(var r=0;r<i;r++)e[t][r]=!1}var a=1,c=1,l=[];for(l.push({x:a,y:c,rt:[]}),n.strokeStyle="gray",n.lineWidth=1,n.beginPath();l.length>0;){var o=l.shift();a=o.x,c=o.y;var s,u,f=o.rt;if(2==j[c][a]){console.log("\u3054\u30fc\u308b"),f.push({x:a,y:c}),n.closePath(),n.beginPath(),n.strokeStyle="red",n.lineWidth=4,n.moveTo(f[0].x*i+5,f[0].y*i+5);for(var h=0;h<f.length;h++)n.lineTo(f[h].x*i+5,f[h].y*i+5),n.stroke();n.closePath();break}for(var b=0;b<4;b++){switch(b){case 0:s=o.x-1,u=o.y;break;case 1:s=o.x+1,u=o.y;break;case 2:s=o.x,u=o.y-1;break;case 3:s=o.x,u=o.y+1}if(0!=j[u][s]&&!e[u][s]){e[u][s]=!0;for(var x=[],g=0;g<f.length;g++)x.push({x:f[g].x,y:f[g].y});x.push({x:o.x,y:o.y}),l.push({x:s,y:u,rt:x}),n.moveTo(o.x*i+5,o.y*i+5),n.lineTo(s*i+5,u*i+5),n.stroke()}}}}()},children:"\u7b54\u3048\u3092\u898b\u308b"})]})}}},[["agsj",0,1,2]]]);